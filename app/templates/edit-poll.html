{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Редагувати опитування</title>
{% endblock %}

{% block body %}
<form method="POST" action="">
    {% csrf_token %}

    <div style="display: flex; flex-direction: column; margin-bottom: 15px; max-width: 500px;">
        <label for="title" style="margin-bottom: 5px;">Назва опитування:</label>
        <input type="text" id="title" name="title" value="{{ poll.title }}" maxlength="100" required style="padding: 8px; font-size: 14px;">
    </div>

    {% for question in poll.questions.all %}
        <div style="display: flex; flex-direction: column; margin-bottom: 20px; max-width: 500px;">
            <label for="quest{{ forloop.counter }}" style="margin-bottom: 5px;">Питання {{ forloop.counter }}:</label>
            <textarea id="quest{{ forloop.counter }}" name="quest{{ forloop.counter }}" rows="2" required style="padding: 8px; font-size: 14px; resize: vertical;">{{ question.text }}</textarea>

            <div style="display: flex; gap: 10px; margin-top: 5px; align-items: center;">
                {% for option in question.options.all %}
                    <input type="text" name="q{{ forloop.parentloop.counter }}_opt{{ forloop.counter }}" 
                           value="{{ option.text }}" 
                           placeholder="Варіант {{ forloop.counter }}" 
                           required 
                           style="flex: 1; padding: 6px; font-size: 14px;">
                    <!-- <input type="radio" name="q{{ forloop.parentloop.counter }}_correct"  -->
                           <!-- value="{{ forloop.counter }}"  -->
                           <!-- {% if option.is_correct %}checked{% endif %}  -->
                           <!-- title="Правильний варіант"> -->
                {% endfor %}
            </div>

            <!-- <small style="color: #555;">Виберіть одну радіо-кнопку як правильну відповідь.</small> -->
        </div>
    {% endfor %}

    <button type="submit" style="padding: 10px 20px; font-size: 14px;">Зберегти зміни</button>
</form>

<a href="{% url 'view-all-poll' %}" style="display:inline-block; margin-top:15px;">Повернутися до всіх опитувань</a>
{% endblock %}